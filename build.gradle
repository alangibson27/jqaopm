/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
buildscript {
    dependencies {
        classpath group: 'de.dynamicfiles.projects.gradle.plugins', name: 'javafx-gradle-plugin', version: '8.8.2'
    }
    
    repositories {
        mavenLocal()
        mavenCentral()
    }
}

plugins {
    id "com.github.maiflai.scalatest" version "0.23"
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'scala'
    apply plugin: 'com.github.maiflai.scalatest'
    apply plugin: 'application'
    apply plugin: 'javafx-gradle-plugin'
    
    sourceSets {
        test {
            scala {
                srcDirs = ['src/test/scala', 'src/test/java']
            }
            java {
                srcDirs = []
            }
        }
    }

    repositories {
        mavenCentral()
    }
    
    dependencies {
        compile 'com.typesafe:config:1.3.0'
        compile 'io.dropwizard.metrics:metrics-core:3.1.2'
        compile 'ch.qos.logback:logback-classic:1.1.3'
        compile 'net.jpountz.lz4:lz4:1.3.0'
        compile 'org.codehaus.janino:janino:2.7.8'

        testCompile 'org.scalatest:scalatest_2.12:3.0.0'
        testCompile 'org.mockito:mockito-all:1.10.19'
        testCompile "com.github.tomakehurst:wiremock:2.5.1"
        testRuntime 'org.pegdown:pegdown:1.4.2'
    }
    
    test {
        maxParallelForks = 1
    }
}
